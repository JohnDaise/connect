(window.webpackJsonpconnect=window.webpackJsonpconnect||[]).push([[0],{166:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(43),c=a.n(o),l=(a(69),a(44)),i=a(45),s=a(51),u=a(46),f=a(52),v=(a(70),a(169)),h=function(e){var t=e.value,a=e.columnIndex,r=e.play,o="white";return 1===t?o="red":2===t&&(o="yellow"),n.a.createElement("td",null,n.a.createElement("div",{className:"cell",onClick:function(){r(a)}},n.a.createElement("div",{className:o})))},m=function(e){var t=e.row,a=e.play;return n.a.createElement("tr",null,t.map(function(e,t){return n.a.createElement(h,{key:t,value:e,columnIndex:t,play:a})}))},g=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).getRandomNum=function(){return Math.floor(7*Math.random())},a.computerMove=function(){var e=a.state.board,t=a.getRandomNum();if(e[0][t])a.computerMove();else{var r=a.checkAll(e),n=a.checkAlmost(e),o=a.state.blockingMoves,c=a.state.winningMove;if(console.log("blockingMoves",o),console.log("winningMove",c),r===a.state.player1)return void a.setState({board:e,gameOver:!0,message:"Player 1 (red) wins!"});if(c.length>0){for(var l=c[0].c,i=5;i>=0;i--)if(!e[i][l]){e[i][l]=a.state.player2;break}a.setState({winningMove:[]}),a.checkAll(e)}if(n===a.state.player1){e:for(var s=0;s<o.length;s++)if(o[s].c)for(var u=5;u>=0;u--)if(!e[u][o[s].c]){e[u][o[s].c]=a.state.player2;break e}return void a.setState({blockingMoves:[],winningMove:[],board:e,currentPlayer:a.togglePlayer()})}for(var f=5;f>=0;f--)if(!e[f][t]){e[f][t]=a.state.player2;break}var v=a.checkAll(e);if(v===a.state.player2&&a.setState({board:e,gameOver:!0,message:"Computer wins!"}),"draw"===v&&a.setState({board:e,gameOver:!0,message:"Draw game."}),a.state.gameOver)return;a.setState({blockingMoves:[],board:e,currentPlayer:a.togglePlayer()})}},a.play=function(e){if(a.state.gameOver)a.setState({message:"Game over. Please start a new game."});else{for(var t=a.state.board,r=5;r>=0;r--)if(!t[r][e]){t[r][e]=a.state.player1;break}var n=a.checkAll(t);n===a.state.player1&&a.setState({board:t,gameOver:!0,message:"Player 1 (red) wins!"}),"draw"===n&&a.setState({board:t,gameOver:!0,message:"Draw game."}),a.setState({board:t,currentPlayer:a.togglePlayer()}),a.computerMove(t)}},a.state={blockingMoves:[],board:[],currentPlayer:null,gameOver:!1,message:"",player1:1,player2:2,winningMove:[]},a}return Object(f.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.initBoard()}},{key:"initBoard",value:function(){for(var e=[],t=0;t<6;t++){for(var a=[],r=0;r<7;r++)a.push(null);e.push(a)}this.setState({board:e,currentPlayer:this.state.player1,gameOver:!1,message:""})}},{key:"togglePlayer",value:function(){return this.state.currentPlayer===this.state.player1?this.state.player2:this.state.player1}},{key:"checkVertical",value:function(e){for(var t=3;t<6;t++)for(var a=0;a<7;a++)if(e[t][a]&&e[t][a]===e[t-1][a]&&e[t][a]===e[t-2][a]&&e[t][a]===e[t-3][a])return e[t][a]}},{key:"checkAlmostVertical",value:function(){for(var e=this.state.blockingMoves,t=this.state.winningMove,a=this.state.board,r=3;r<6;r++)for(var n=0;n<7;n++)if(a[r][n]&&a[r][n]===a[r-1][n]&&a[r][n]===a[r-2][n]&&!a[r-3][n]){if(2===a[r][n])return t.push({r:r-3,c:n}),a[r][n];if(1===a[r][n])return console.log("check 1"),e.push({r:r-3,c:n}),a[r][n]}this.checkVertical(a)}},{key:"checkHorizontal",value:function(e){for(var t=0;t<6;t++)for(var a=0;a<7;a++)if(e[t][a]&&e[t][a]===e[t][a+1]&&e[t][a]===e[t][a+2]&&e[t][a]===e[t][a+3])return e[t][a]}},{key:"checkAlmostHorizontal",value:function(){for(var e=this.state.blockingMoves,t=this.state.winningMove,a=this.state.board,r=0;r<6;r++)for(var n=0;n<7;n++)if(a[r][n]&&2===a[r][n]&&a[r][n]===a[r][n+1]){if(!a[r][n+2]&&a[r][n+3]===a[r][n])return t.push({r:r,c:n+2}),a[r][n];if(a[r][n+2]===a[r][n]&&!a[r][n+3]){if(n<=3)return t.push({r:r,c:n+3}),a[r][n];if(4===n)return t.push({r:r,c:n-1}),a[r][n]}if(!a[r][n-1]&&a[r][n-2]===a[r][n]&&n>=2)return t.push({r:r,c:n-1}),a[r][n];if(a[r][n-1]===a[r][n]&&!a[r][n-2]&&n>=2)return t.push({r:r,c:n-2}),a[r][n]}for(var o=0;o<6;o++)for(var c=0;c<7;c++)if(a[o][c]&&1===a[o][c]&&a[o][c]===a[o][c+1]){if(!a[o][c+2]&&a[o][c+3]===a[o][c])return e.push({r:o,c:c+2}),a[o][c];if(a[o][c+2]===a[o][c]&&!a[o][c+3]){if(c<=3)return e.push({r:o,c:c+3}),a[o][c];if(4===c)return e.push({r:o,c:c-1}),a[o][c]}if(!a[o][c-1]&&a[o][c-2]===a[o][c]&&c>=2)return e.push({r:o,c:c-1}),a[o][c];if(a[o][c-1]===a[o][c]&&!a[o][c-2]&&c>=2)return e.push({r:o,c:c-2}),a[o][c]}}},{key:"checkDiagonalRight",value:function(e){for(var t=3;t<6;t++)for(var a=0;a<7;a++)if(e[t][a]&&e[t][a]===e[t-1][a+1]&&e[t][a]===e[t-2][a+2]&&e[t][a]===e[t-3][a+3])return e[t][a]}},{key:"checkAlmostDiagonalRight",value:function(e){}},{key:"checkDiagonalLeft",value:function(e){for(var t=3;t<6;t++)for(var a=3;a<7;a++)if(e[t][a]&&e[t][a]===e[t-1][a-1]&&e[t][a]===e[t-2][a-2]&&e[t][a]===e[t-3][a-3])return e[t][a]}},{key:"checkAlmostDiagonalLeft",value:function(e){}},{key:"checkDraw",value:function(e){for(var t=0;t<6;t++)for(var a=0;a<7;a++)if(null===e[t][a])return null;return"draw"}},{key:"checkAlmost",value:function(){var e=this.state.board;return this.checkAlmostHorizontal(e)||this.checkAlmostVertical(e)}},{key:"checkAll",value:function(e){return this.checkVertical(e)||this.checkDiagonalRight(e)||this.checkDiagonalLeft(e)||this.checkHorizontal(e)||this.checkDraw(e)}},{key:"render",value:function(){var e=this;return n.a.createElement(v.a,{textAlign:"center"},n.a.createElement("h1",null,"CONNECT FOUR"),n.a.createElement("table",null,n.a.createElement("thead",null),n.a.createElement("tbody",null,this.state.board.map(function(t,a){return n.a.createElement(m,{key:a,row:t,play:e.play,computerMove:e.computerMove})}))),n.a.createElement("br",null),n.a.createElement("button",{onClick:function(){e.initBoard()}},"New Game"),n.a.createElement("br",null),n.a.createElement("p",{className:"message"},this.state.message))}}]),t}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},64:function(e,t,a){e.exports=a(166)},69:function(e,t,a){},70:function(e,t,a){}},[[64,1,2]]]);
//# sourceMappingURL=main.56e1e93b.chunk.js.map